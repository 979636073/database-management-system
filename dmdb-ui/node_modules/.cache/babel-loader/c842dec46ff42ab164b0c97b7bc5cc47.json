{"remainingRequest":"D:\\开发\\database-management-system\\dmdb-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\开发\\database-management-system\\dmdb-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\开发\\database-management-system\\dmdb-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\开发\\database-management-system\\dmdb-ui\\src\\components\\SqlEditor.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\开发\\database-management-system\\dmdb-ui\\src\\components\\SqlEditor.vue","mtime":1770390073400},{"path":"D:\\开发\\database-management-system\\dmdb-ui\\babel.config.js","mtime":1770389611317},{"path":"D:\\开发\\database-management-system\\dmdb-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\开发\\database-management-system\\dmdb-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\开发\\database-management-system\\dmdb-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\开发\\database-management-system\\dmdb-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICogYXMgbW9uYWNvIGZyb20gJ21vbmFjby1lZGl0b3InOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1NxbEVkaXRvcicsCiAgcHJvcHM6IHsKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICBsYW5ndWFnZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdzcWwnCiAgICB9LAogICAgcmVhZE9ubHk6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICB0aGVtZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICd2cycKICAgIH0gLy8gJ3ZzJyAobGlnaHQpLCAndnMtZGFyaycKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlZGl0b3I6IG51bGwKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgdmFsdWUobmV3VmFsdWUpIHsKICAgICAgaWYgKHRoaXMuZWRpdG9yICYmIG5ld1ZhbHVlICE9PSB0aGlzLmVkaXRvci5nZXRWYWx1ZSgpKSB7CiAgICAgICAgdGhpcy5lZGl0b3Iuc2V0VmFsdWUobmV3VmFsdWUpOwogICAgICB9CiAgICB9LAogICAgbGFuZ3VhZ2UobmV3VmFsKSB7CiAgICAgIGlmICh0aGlzLmVkaXRvcikgewogICAgICAgIG1vbmFjby5lZGl0b3Iuc2V0TW9kZWxMYW5ndWFnZSh0aGlzLmVkaXRvci5nZXRNb2RlbCgpLCBuZXdWYWwpOwogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5pbml0RWRpdG9yKCk7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5oYW5kbGVSZXNpemUpOwogIH0sCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIGlmICh0aGlzLmVkaXRvcikgewogICAgICB0aGlzLmVkaXRvci5kaXNwb3NlKCk7CiAgICB9CiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5oYW5kbGVSZXNpemUpOwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdEVkaXRvcigpIHsKICAgICAgdGhpcy5lZGl0b3IgPSBtb25hY28uZWRpdG9yLmNyZWF0ZSh0aGlzLiRyZWZzLmVkaXRvckNvbnRhaW5lciwgewogICAgICAgIHZhbHVlOiB0aGlzLnZhbHVlLAogICAgICAgIGxhbmd1YWdlOiB0aGlzLmxhbmd1YWdlLAogICAgICAgIHRoZW1lOiB0aGlzLnRoZW1lLAogICAgICAgIHJlYWRPbmx5OiB0aGlzLnJlYWRPbmx5LAogICAgICAgIGF1dG9tYXRpY0xheW91dDogdHJ1ZSwKICAgICAgICAvLyDoh6rliqjpgILlupTlrrnlmajlpKflsI8KICAgICAgICBmb250U2l6ZTogMTQsCiAgICAgICAgbWluaW1hcDogewogICAgICAgICAgZW5hYmxlZDogZmFsc2UKICAgICAgICB9LAogICAgICAgIC8vIOWFs+mXreWPs+S+p+mihOiniOWbvgogICAgICAgIHNjcm9sbEJleW9uZExhc3RMaW5lOiBmYWxzZSwKICAgICAgICBsaW5lTnVtYmVyczogJ29uJywKICAgICAgICByb3VuZGVkU2VsZWN0aW9uOiBmYWxzZSwKICAgICAgICBzY3JvbGxCZXlvbmRMYXN0TGluZTogZmFsc2UKICAgICAgfSk7CgogICAgICAvLyDnm5HlkKzlhoXlrrnlj5jljJbvvIzlkIzmraXnu5nniLbnu4Tku7YKICAgICAgdGhpcy5lZGl0b3Iub25EaWRDaGFuZ2VNb2RlbENvbnRlbnQoKCkgPT4gewogICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5lZGl0b3IuZ2V0VmFsdWUoKTsKICAgICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIHZhbHVlKTsKICAgICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCB2YWx1ZSk7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVJlc2l6ZSgpIHsKICAgICAgaWYgKHRoaXMuZWRpdG9yKSB7CiAgICAgICAgdGhpcy5lZGl0b3IubGF5b3V0KCk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"names":["monaco","name","props","value","type","String","default","language","readOnly","Boolean","theme","data","editor","watch","newValue","getValue","setValue","newVal","setModelLanguage","getModel","mounted","initEditor","window","addEventListener","handleResize","beforeDestroy","dispose","removeEventListener","methods","create","$refs","editorContainer","automaticLayout","fontSize","minimap","enabled","scrollBeyondLastLine","lineNumbers","roundedSelection","onDidChangeModelContent","$emit","layout"],"sources":["src/components/SqlEditor.vue"],"sourcesContent":["<template>\r\n  <div class=\"monaco-editor-container\" ref=\"editorContainer\"></div>\r\n</template>\r\n\r\n<script>\r\nimport * as monaco from 'monaco-editor';\r\n\r\nexport default {\r\n  name: 'SqlEditor',\r\n  props: {\r\n    value: { type: String, default: '' },\r\n    language: { type: String, default: 'sql' },\r\n    readOnly: { type: Boolean, default: false },\r\n    theme: { type: String, default: 'vs' } // 'vs' (light), 'vs-dark'\r\n  },\r\n  data() {\r\n    return {\r\n      editor: null\r\n    };\r\n  },\r\n  watch: {\r\n    value(newValue) {\r\n      if (this.editor && newValue !== this.editor.getValue()) {\r\n        this.editor.setValue(newValue);\r\n      }\r\n    },\r\n    language(newVal) {\r\n      if (this.editor) {\r\n        monaco.editor.setModelLanguage(this.editor.getModel(), newVal);\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initEditor();\r\n    window.addEventListener('resize', this.handleResize);\r\n  },\r\n  beforeDestroy() {\r\n    if (this.editor) {\r\n      this.editor.dispose();\r\n    }\r\n    window.removeEventListener('resize', this.handleResize);\r\n  },\r\n  methods: {\r\n    initEditor() {\r\n      this.editor = monaco.editor.create(this.$refs.editorContainer, {\r\n        value: this.value,\r\n        language: this.language,\r\n        theme: this.theme,\r\n        readOnly: this.readOnly,\r\n        automaticLayout: true, // 自动适应容器大小\r\n        fontSize: 14,\r\n        minimap: { enabled: false }, // 关闭右侧预览图\r\n        scrollBeyondLastLine: false,\r\n        lineNumbers: 'on',\r\n        roundedSelection: false,\r\n        scrollBeyondLastLine: false,\r\n      });\r\n\r\n      // 监听内容变化，同步给父组件\r\n      this.editor.onDidChangeModelContent(() => {\r\n        const value = this.editor.getValue();\r\n        this.$emit('input', value);\r\n        this.$emit('change', value);\r\n      });\r\n    },\r\n    handleResize() {\r\n      if (this.editor) {\r\n        this.editor.layout();\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.monaco-editor-container {\r\n  width: 100%;\r\n  height: 100%;\r\n  border: 1px solid #dcdfe6;\r\n  border-radius: 4px;\r\n  overflow: hidden;\r\n}\r\n</style>"],"mappings":"AAKA,YAAAA,MAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACAC,KAAA;MAAAC,IAAA,EAAAC,MAAA;MAAAC,OAAA;IAAA;IACAC,QAAA;MAAAH,IAAA,EAAAC,MAAA;MAAAC,OAAA;IAAA;IACAE,QAAA;MAAAJ,IAAA,EAAAK,OAAA;MAAAH,OAAA;IAAA;IACAI,KAAA;MAAAN,IAAA,EAAAC,MAAA;MAAAC,OAAA;IAAA;EACA;EACAK,KAAA;IACA;MACAC,MAAA;IACA;EACA;EACAC,KAAA;IACAV,MAAAW,QAAA;MACA,SAAAF,MAAA,IAAAE,QAAA,UAAAF,MAAA,CAAAG,QAAA;QACA,KAAAH,MAAA,CAAAI,QAAA,CAAAF,QAAA;MACA;IACA;IACAP,SAAAU,MAAA;MACA,SAAAL,MAAA;QACAZ,MAAA,CAAAY,MAAA,CAAAM,gBAAA,MAAAN,MAAA,CAAAO,QAAA,IAAAF,MAAA;MACA;IACA;EACA;EACAG,QAAA;IACA,KAAAC,UAAA;IACAC,MAAA,CAAAC,gBAAA,gBAAAC,YAAA;EACA;EACAC,cAAA;IACA,SAAAb,MAAA;MACA,KAAAA,MAAA,CAAAc,OAAA;IACA;IACAJ,MAAA,CAAAK,mBAAA,gBAAAH,YAAA;EACA;EACAI,OAAA;IACAP,WAAA;MACA,KAAAT,MAAA,GAAAZ,MAAA,CAAAY,MAAA,CAAAiB,MAAA,MAAAC,KAAA,CAAAC,eAAA;QACA5B,KAAA,OAAAA,KAAA;QACAI,QAAA,OAAAA,QAAA;QACAG,KAAA,OAAAA,KAAA;QACAF,QAAA,OAAAA,QAAA;QACAwB,eAAA;QAAA;QACAC,QAAA;QACAC,OAAA;UAAAC,OAAA;QAAA;QAAA;QACAC,oBAAA;QACAC,WAAA;QACAC,gBAAA;QACAF,oBAAA;MACA;;MAEA;MACA,KAAAxB,MAAA,CAAA2B,uBAAA;QACA,MAAApC,KAAA,QAAAS,MAAA,CAAAG,QAAA;QACA,KAAAyB,KAAA,UAAArC,KAAA;QACA,KAAAqC,KAAA,WAAArC,KAAA;MACA;IACA;IACAqB,aAAA;MACA,SAAAZ,MAAA;QACA,KAAAA,MAAA,CAAA6B,MAAA;MACA;IACA;EACA;AACA","ignoreList":[]}]}
{"remainingRequest":"D:\\开发\\database-management-system\\dmdb-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\开发\\database-management-system\\dmdb-ui\\src\\components\\MultiWindowLayout.vue?vue&type=style&index=0&id=6f437993&scoped=true&lang=css","dependencies":[{"path":"D:\\开发\\database-management-system\\dmdb-ui\\src\\components\\MultiWindowLayout.vue","mtime":1770390073400},{"path":"D:\\开发\\database-management-system\\dmdb-ui\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\开发\\database-management-system\\dmdb-ui\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\开发\\database-management-system\\dmdb-ui\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\开发\\database-management-system\\dmdb-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\开发\\database-management-system\\dmdb-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoubGF5b3V0LWNvbnRhaW5lciB7DQogIGhlaWdodDogMTAwdmg7DQogIGJhY2tncm91bmQ6ICNmMGYyZjU7DQp9DQoNCi5zaWRlYmFyIHsNCiAgYmFja2dyb3VuZDogI2ZmZjsNCiAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2U2ZTZlNjsNCiAgZGlzcGxheTogZmxleDsNCiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCn0NCg0KLnNpZGViYXItaGVhZGVyLXdyYXBwZXIgew0KICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VlZTsNCiAgcGFkZGluZy1ib3R0b206IDEwcHg7DQp9DQoNCi5zaWRlYmFyLWhlYWRlci10b3Agew0KICBwYWRkaW5nOiAwIDE1cHg7DQogIGhlaWdodDogNDBweDsNCiAgZGlzcGxheTogZmxleDsNCiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOw0KICBhbGlnbi1pdGVtczogY2VudGVyOw0KfQ0KDQouc2lkZWJhci1zZWFyY2ggew0KICBwYWRkaW5nOiAwIDEwcHg7DQp9DQoNCi5hcHAtdGl0bGUgew0KICBmb250LXdlaWdodDogYm9sZDsNCiAgY29sb3I6ICMzMzM7DQogIGZvbnQtc2l6ZTogMTRweDsNCn0NCg0KLmhlYWRlci1hY3Rpb25zIHsNCiAgZGlzcGxheTogZmxleDsNCiAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCn0NCg0KLmRiLXRyZWUgew0KICBmbGV4OiAxOw0KICBvdmVyZmxvdy15OiBhdXRvOw0KICBwYWRkaW5nLXRvcDogNXB4Ow0KfQ0KDQouY3VzdG9tLXRyZWUtbm9kZSB7DQogIGZsZXg6IDE7DQogIGRpc3BsYXk6IGZsZXg7DQogIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsNCiAgZm9udC1zaXplOiAxM3B4Ow0KICBwYWRkaW5nLXJpZ2h0OiA4cHg7DQp9DQoNCi5jdXN0b20tdHJlZS1ub2RlIGkgew0KICBtYXJnaW4tcmlnaHQ6IDVweDsNCiAgY29sb3I6ICM0MDllZmY7DQp9DQoNCi5ub2RlLWFjdGlvbnMgew0KICBkaXNwbGF5OiBub25lOw0KfQ0KDQouY3VzdG9tLXRyZWUtbm9kZTpob3ZlciAubm9kZS1hY3Rpb25zIHsNCiAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KfQ0KDQoubWFpbi1jb250ZW50IHsNCiAgcGFkZGluZzogMDsNCiAgZGlzcGxheTogZmxleDsNCiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAgYmFja2dyb3VuZDogI2ZmZjsNCiAgb3ZlcmZsb3c6IGhpZGRlbjsNCn0NCg0KLmVtcHR5LXN0YXRlIHsNCiAgaGVpZ2h0OiAxMDAlOw0KICBkaXNwbGF5OiBmbGV4Ow0KICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOw0KICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgY29sb3I6ICNjY2M7DQp9DQoNCi5lbXB0eS1zdGF0ZSBpIHsNCiAgZm9udC1zaXplOiA2MHB4Ow0KICBtYXJnaW4tYm90dG9tOiAxMHB4Ow0KfQ0KDQo6OnYtZGVlcCAuZWwtdGFicyB7DQogIGhlaWdodDogMTAwJTsNCiAgZGlzcGxheTogZmxleDsNCiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCn0NCg0KOjp2LWRlZXAgLmVsLXRhYnNfX2hlYWRlciB7DQogIG1hcmdpbjogMDsNCiAgYmFja2dyb3VuZDogI2Y1ZjdmYTsNCiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlNGU3ZWQ7DQp9DQoNCjo6di1kZWVwIC5lbC10YWJzX19jb250ZW50IHsNCiAgZmxleDogMTsNCiAgcGFkZGluZzogMDsNCiAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgaGVpZ2h0OiAxMDAlOw0KfQ0KDQo6OnYtZGVlcCAuZWwtdGFiLXBhbmUgew0KICBoZWlnaHQ6IDEwMCU7DQp9DQo="},{"version":3,"sources":["MultiWindowLayout.vue"],"names":[],"mappings":";AAy4BA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"MultiWindowLayout.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <el-container class=\"layout-container\">\r\n    <el-aside width=\"280px\" class=\"sidebar\">\r\n      <div class=\"sidebar-header-wrapper\">\r\n        <div class=\"sidebar-header-top\">\r\n          <span class=\"app-title\"><i class=\"el-icon-coin\"></i> 数据库列表</span>\r\n          <div class=\"header-actions\">\r\n            <el-button type=\"text\" icon=\"el-icon-refresh\" @click=\"handleRefresh\" title=\"刷新列表\" :loading=\"isRefreshing\"\r\n              style=\"margin-right: 8px; font-size: 16px\">\r\n            </el-button>\r\n            <el-button type=\"text\" icon=\"el-icon-circle-plus-outline\" @click=\"openAddDialog\" title=\"新建连接\"\r\n              style=\"font-size: 16px\">\r\n            </el-button>\r\n          </div>\r\n        </div>\r\n        <div class=\"sidebar-search\">\r\n          <el-input placeholder=\"过滤库/表/角色...\" v-model=\"filterText\" size=\"mini\" clearable prefix-icon=\"el-icon-search\">\r\n          </el-input>\r\n        </div>\r\n      </div>\r\n\r\n      <el-tree ref=\"tree\" :data=\"treeData\" :props=\"defaultProps\" :load=\"loadNode\" lazy node-key=\"id\" highlight-current\r\n        :filter-node-method=\"filterNode\" @node-click=\"handleNodeClick\" class=\"db-tree\" :expand-on-click-node=\"false\">\r\n        <span class=\"custom-tree-node\" slot-scope=\"{ node, data }\">\r\n          <span class=\"node-label\">\r\n            <i :class=\"getIcon(data.type)\" :style=\"{ color: data.connStatus === 'fail' ? '#F56C6C' : '' }\"></i>\r\n\r\n            {{ node.label }}\r\n\r\n            <i v-if=\"data.loading\" class=\"el-icon-loading\" style=\"margin-left: 5px\"></i>\r\n\r\n            <el-tooltip v-if=\"data.type === 'root' && data.connStatus === 'fail'\" class=\"item\" effect=\"dark\"\r\n              :content=\"data.errorMsg || '连接失败'\" placement=\"top\">\r\n              <span style=\"\r\n                  color: #f56c6c;\r\n                  font-size: 12px;\r\n                  margin-left: 5px;\r\n                  cursor: pointer;\r\n                  font-weight: bold;\r\n                \">\r\n                <i class=\"el-icon-warning-outline\"></i> (离线)\r\n              </span>\r\n            </el-tooltip>\r\n\r\n            <span v-if=\"data.comment\" style=\"color: #999; font-size: 12px; margin-left: 5px\">{{ data.comment }}</span>\r\n\r\n            <span v-if=\"data.type === 'trigger'\" :style=\"{\r\n              color: data.status === 'ENABLED' ? '#67C23A' : '#909399',\r\n              fontSize: '12px',\r\n              marginLeft: '5px',\r\n              fontWeight: 'bold',\r\n            }\">\r\n              {{ data.status === \"ENABLED\" ? \"●\" : \"○\" }}\r\n            </span>\r\n          </span>\r\n\r\n          <span class=\"node-actions\">\r\n            <template v-if=\"data.type === 'root'\">\r\n              <el-button type=\"text\" icon=\"el-icon-edit\" size=\"mini\" @click.stop=\"openEditDialog(data)\"></el-button>\r\n              <el-button type=\"text\" icon=\"el-icon-delete\" size=\"mini\"\r\n                @click.stop=\"handleDeleteConn(node, data)\"></el-button>\r\n            </template>\r\n\r\n            <template v-if=\"data.type && data.type.startsWith('folder_')\">\r\n              <el-button type=\"text\" icon=\"el-icon-plus\" size=\"mini\" title=\"新建\"\r\n                @click.stop=\"openCreateDialog(node, data)\"></el-button>\r\n            </template>\r\n\r\n            <template v-if=\"['table', 'view', 'trigger', 'role'].includes(data.type)\">\r\n              <el-button type=\"text\" icon=\"el-icon-delete\" size=\"mini\" style=\"color: #f56c6c\" title=\"删除\"\r\n                @click.stop=\"handleDeleteObject(node, data)\"></el-button>\r\n            </template>\r\n          </span>\r\n        </span>\r\n      </el-tree>\r\n    </el-aside>\r\n\r\n    <el-main class=\"main-content\">\r\n      <div v-if=\"tabs.length === 0\" class=\"empty-state\">\r\n        <i class=\"el-icon-monitor\"></i>\r\n        <p>请新建连接并选择数据表、视图或角色进行管理</p>\r\n      </div>\r\n\r\n      <el-tabs v-else v-model=\"activeTab\" type=\"card\" closable @tab-remove=\"removeTab\" class=\"content-tabs\">\r\n        <el-tab-pane v-for=\"item in tabs\" :key=\"item.key\" :label=\"item.title\" :name=\"item.key\">\r\n          <TableDetail v-if=\"item.type === 'table' || item.type === 'view'\" :conn-id=\"item.connId\"\r\n            :conn-name=\"item.connName\" :schema=\"item.schema\" :table-name=\"item.tableName\" :table-type=\"item.tableType\"\r\n            :initial-filter=\"item.filter\" :init-view-mode=\"item.initViewMode\" @view-mode-change=\"handleViewModeChange\"\r\n            @open-table=\"handleOpenTable\" />\r\n\r\n          <RoleDetail v-else-if=\"item.type === 'role'\" :conn-id=\"item.connId\" :role-name=\"item.roleName\" />\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n    </el-main>\r\n\r\n    <el-dialog :title=\"dialogTitle\" :visible.sync=\"dialogVisible\" width=\"400px\" :close-on-click-modal=\"false\">\r\n      <el-form :model=\"connForm\" label-width=\"80px\" size=\"small\">\r\n        <el-form-item label=\"名称\" required>\r\n          <el-input v-model=\"connForm.name\" placeholder=\"连接名称 (唯一)\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"主机\" required>\r\n          <el-input v-model=\"connForm.host\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"端口\" required>\r\n          <el-input v-model=\"connForm.port\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"用户\" required>\r\n          <el-input v-model=\"connForm.user\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\">\r\n          <el-input v-model=\"connForm.password\" type=\"password\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\">\r\n        <el-button @click=\"dialogVisible = false\">取消</el-button>\r\n        <el-button type=\"success\" plain @click=\"testConnection\" :loading=\"testing\">测试连接</el-button>\r\n        <el-button type=\"primary\" @click=\"submitConnection\" :loading=\"connecting\">保存并连接</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <el-dialog title=\"新建数据表\" :visible.sync=\"createTableVisible\" width=\"700px\" :close-on-click-modal=\"false\">\r\n      <el-form :model=\"tableForm\" size=\"small\" label-width=\"80px\">\r\n        <el-form-item label=\"表名\" required>\r\n          <el-input v-model=\"tableForm.tableName\" placeholder=\"例如: ORDER_ITEMS\" style=\"width: 100%\"></el-input>\r\n        </el-form-item>\r\n\r\n        <div style=\"\r\n            margin-bottom: 10px;\r\n            font-weight: bold;\r\n            border-bottom: 1px solid #eee;\r\n            padding-bottom: 5px;\r\n          \">\r\n          列定义\r\n          <el-button type=\"text\" icon=\"el-icon-plus\" style=\"float: right\" @click=\"addTableColumn\">添加列</el-button>\r\n        </div>\r\n\r\n        <el-table :data=\"tableForm.columns\" border size=\"mini\" max-height=\"300\">\r\n          <el-table-column label=\"列名\" width=\"150\">\r\n            <template slot-scope=\"scope\"><el-input v-model=\"scope.row.name\" placeholder=\"列名\"></el-input></template>\r\n          </el-table-column>\r\n          <el-table-column label=\"类型\" width=\"120\">\r\n            <template slot-scope=\"scope\">\r\n              <el-select v-model=\"scope.row.type\" placeholder=\"类型\">\r\n                <el-option value=\"VARCHAR\"></el-option>\r\n                <el-option value=\"INTEGER\"></el-option>\r\n                <el-option value=\"DATE\"></el-option>\r\n                <el-option value=\"TIMESTAMP\"></el-option>\r\n                <el-option value=\"DECIMAL\"></el-option>\r\n                <el-option value=\"TEXT\"></el-option>\r\n              </el-select>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"长度\" width=\"80\">\r\n            <template slot-scope=\"scope\"><el-input v-model=\"scope.row.length\" :disabled=\"['INTEGER', 'DATE', 'TIMESTAMP', 'TEXT'].includes(\r\n              scope.row.type\r\n            )\r\n              \"></el-input></template>\r\n          </el-table-column>\r\n          <el-table-column label=\"主键\" width=\"60\" align=\"center\">\r\n            <template slot-scope=\"scope\"><el-checkbox v-model=\"scope.row.pk\"></el-checkbox></template>\r\n          </el-table-column>\r\n          <el-table-column label=\"非空\" width=\"60\" align=\"center\">\r\n            <template slot-scope=\"scope\"><el-checkbox v-model=\"scope.row.notNull\"></el-checkbox></template>\r\n          </el-table-column>\r\n          <el-table-column label=\"操作\" width=\"60\" align=\"center\">\r\n            <template slot-scope=\"scope\"><el-button type=\"text\" icon=\"el-icon-delete\" style=\"color: #f56c6c\"\r\n                @click=\"removeTableColumn(scope.$index)\"></el-button></template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <div style=\"margin-top: 5px; font-size: 12px; color: #909399;\">\r\n          <i class=\"el-icon-info\"></i> 支持勾选多个列作为复合主键。\r\n        </div>\r\n      </el-form>\r\n      <div slot=\"footer\">\r\n        <el-button size=\"small\" @click=\"createTableVisible = false\">取消</el-button>\r\n        <el-button size=\"small\" type=\"primary\" @click=\"submitCreateTable\" :loading=\"submitting\">创建</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <el-dialog title=\"新建视图\" :visible.sync=\"createViewVisible\" width=\"600px\" :close-on-click-modal=\"false\">\r\n      <el-form :model=\"viewForm\" size=\"small\" label-width=\"80px\">\r\n        <el-form-item label=\"视图名\" required>\r\n          <el-input v-model=\"viewForm.name\" placeholder=\"例如: V_USER_STATS\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"定义SQL\" required>\r\n          <el-input type=\"textarea\" :rows=\"8\" v-model=\"viewForm.sql\" placeholder=\"SELECT * FROM ...\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\">\r\n        <el-button size=\"small\" @click=\"createViewVisible = false\">取消</el-button>\r\n        <el-button size=\"small\" type=\"primary\" @click=\"submitCreateView\" :loading=\"submitting\">创建</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <el-dialog title=\"新建触发器\" :visible.sync=\"createTriggerVisible\" width=\"600px\" :close-on-click-modal=\"false\">\r\n      <el-alert title=\"触发器定义较复杂，请直接输入完整 Create SQL\" type=\"info\" :closable=\"false\"\r\n        style=\"margin-bottom: 10px\"></el-alert>\r\n      <el-input type=\"textarea\" :rows=\"12\" v-model=\"triggerSql\" placeholder=\"CREATE OR REPLACE TRIGGER ...\"></el-input>\r\n      <div slot=\"footer\">\r\n        <el-button size=\"small\" @click=\"createTriggerVisible = false\">取消</el-button>\r\n        <el-button size=\"small\" type=\"primary\" @click=\"submitCreateTrigger\" :loading=\"submitting\">创建</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <el-dialog title=\"新建角色\" :visible.sync=\"createRoleVisible\" width=\"400px\" :close-on-click-modal=\"false\">\r\n      <el-form :model=\"roleForm\" size=\"small\" label-width=\"80px\">\r\n        <el-form-item label=\"角色名称\" required>\r\n          <el-input v-model=\"roleForm.name\" placeholder=\"例如: ROLE_HR\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\">\r\n        <el-button @click=\"createRoleVisible = false\" size=\"small\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"submitCreateRole\" size=\"small\">创建</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request\";\r\nimport TableDetail from \"./TableDetail.vue\";\r\nimport RoleDetail from \"./RoleDetail.vue\";\r\n\r\nconst STORAGE_KEY = \"DMDB_CONNECTIONS\";\r\n\r\nexport default {\r\n  name: \"MultiWindowLayout\",\r\n  components: { TableDetail, RoleDetail },\r\n  data() {\r\n    return {\r\n      filterText: \"\",\r\n      treeData: [],\r\n      defaultProps: { label: \"label\", isLeaf: \"leaf\" },\r\n      tabs: [],\r\n      activeTab: \"\",\r\n\r\n      globalViewMode: \"data\",\r\n\r\n      isRefreshing: false,\r\n      dialogVisible: false,\r\n      isEditMode: false,\r\n      currentEditNode: null,\r\n      dialogTitle: \"新建连接\",\r\n      connecting: false,\r\n      testing: false,\r\n      connForm: {\r\n        name: \"本地达梦\",\r\n        host: \"localhost\",\r\n        port: \"5236\",\r\n        user: \"SYSDBA\",\r\n        password: \"\",\r\n      },\r\n\r\n      submitting: false,\r\n      currentNodeData: null,\r\n      currentNodeRef: null,\r\n\r\n      // 表/视图/触发器 弹窗状态\r\n      createTableVisible: false,\r\n      tableForm: {\r\n        tableName: \"\",\r\n        columns: [\r\n          { name: \"ID\", type: \"INTEGER\", length: \"\", pk: true, notNull: true },\r\n        ],\r\n      },\r\n      createViewVisible: false,\r\n      viewForm: { name: \"\", sql: \"\" },\r\n      createTriggerVisible: false,\r\n      triggerSql: \"\",\r\n\r\n      // 角色弹窗状态\r\n      createRoleVisible: false,\r\n      roleForm: { name: \"\" }\r\n    };\r\n  },\r\n  watch: {\r\n    filterText(val) {\r\n      this.$refs.tree.filter(val);\r\n    },\r\n  },\r\n  created() {\r\n    this.restoreConnections();\r\n  },\r\n  methods: {\r\n    filterNode(value, data) {\r\n      if (!value) return true;\r\n      return data.label.toLowerCase().indexOf(value.toLowerCase()) !== -1;\r\n    },\r\n    // 【核心】根据节点类型返回图标\r\n    getIcon(type) {\r\n      if (type === \"root\") return \"el-icon-connection\";\r\n      if (type === \"folder_schema\") return \"el-icon-files\";\r\n      if (type === \"folder_role\") return \"el-icon-user-solid\"; // 角色文件夹图标\r\n      if (type === \"schema\") return \"el-icon-folder-opened\";\r\n      if (type && type.startsWith(\"folder_\")) return \"el-icon-folder\";\r\n      if (type === \"table\") return \"el-icon-document-copy\";\r\n      if (type === \"view\") return \"el-icon-view\";\r\n      if (type === \"trigger\") return \"el-icon-s-operation\";\r\n      if (type === \"role\") return \"el-icon-user\"; // 具体角色图标\r\n      return \"el-icon-document\";\r\n    },\r\n    handleViewModeChange(mode) {\r\n      this.globalViewMode = mode;\r\n    },\r\n    handleRefresh() {\r\n      this.isRefreshing = true;\r\n      this.treeData = [];\r\n      this.$nextTick(() => {\r\n        this.restoreConnections();\r\n        setTimeout(() => {\r\n          this.isRefreshing = false;\r\n          this.$message.success(\"列表已刷新\");\r\n        }, 500);\r\n      });\r\n    },\r\n    restoreConnections() {\r\n      const cached = localStorage.getItem(STORAGE_KEY);\r\n      if (cached) {\r\n        try {\r\n          const list = JSON.parse(cached);\r\n          this.treeData = list.map((item) => ({\r\n            ...item,\r\n            loading: true,\r\n            connStatus: \"connecting\",\r\n            errorMsg: \"\",\r\n          }));\r\n          this.treeData.forEach(async (node) => {\r\n            try {\r\n              const res = await request.post(\"/connection/connect\", {\r\n                id: node.id,\r\n                ...node.config,\r\n              });\r\n              const targetNode = this.treeData.find(n => n.id === node.id);\r\n              if (targetNode) {\r\n                if (res.data.code === 200) {\r\n                  this.$set(targetNode, 'loading', false);\r\n                  this.$set(targetNode, 'connStatus', 'success');\r\n                  this.$set(targetNode, 'errorMsg', '');\r\n                } else {\r\n                  this.$set(targetNode, 'loading', false);\r\n                  this.$set(targetNode, 'connStatus', 'fail');\r\n                  this.$set(targetNode, 'errorMsg', res.data.msg);\r\n                }\r\n              }\r\n            } catch (e) {\r\n              const msg = e.response?.data?.msg || e.message || \"连接失败\";\r\n              const targetNode = this.treeData.find(n => n.id === node.id);\r\n              if (targetNode) {\r\n                this.$set(targetNode, 'loading', false);\r\n                this.$set(targetNode, 'connStatus', 'fail');\r\n                this.$set(targetNode, 'errorMsg', msg);\r\n              }\r\n            }\r\n          });\r\n        } catch (e) {\r\n          console.error(\"Restore failed:\", e);\r\n        }\r\n      }\r\n    },\r\n    saveConnections() {\r\n      const listToSave = this.treeData.map((node) => ({\r\n        id: node.id,\r\n        label: node.label,\r\n        type: \"root\",\r\n        leaf: false,\r\n        config: node.config,\r\n      }));\r\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(listToSave));\r\n    },\r\n\r\n    // 【核心】节点加载逻辑\r\n    async loadNode(node, resolve) {\r\n      if (node.level === 0) return resolve(this.treeData);\r\n      const data = node.data;\r\n\r\n      if (data.loading) {\r\n        this.$message.warning(\"正在尝试恢复连接，请稍候...\");\r\n        return resolve([]);\r\n      }\r\n      if (data.type === \"root\" && data.connStatus === \"fail\") {\r\n        this.$message.error(data.errorMsg || \"连接不可用\");\r\n        return resolve([]);\r\n      }\r\n\r\n      if (data.type === \"root\") {\r\n        resolve([\r\n          { label: '模式', type: 'folder_schema', connId: data.id, connName: data.label, leaf: false },\r\n          // 【新增】角色管理入口节点\r\n          { label: '角色', type: 'folder_role', connId: data.id, connName: data.label, leaf: false }\r\n        ]);\r\n      } else if (data.type === \"folder_role\") {\r\n        // 【新增】加载角色列表\r\n        try {\r\n          const res = await request.get(\"/db/roles\", { headers: { \"Conn-Id\": data.connId } });\r\n          const roles = (res.data.data || []).map(r => ({\r\n            label: r.ROLE_NAME,\r\n            type: \"role\",\r\n            connId: data.connId,\r\n            connName: data.connName,\r\n            leaf: true\r\n          }));\r\n          resolve(roles);\r\n        } catch (e) { resolve([]); }\r\n      } else if (data.type === \"folder_schema\") {\r\n        try {\r\n          const res = await request.get(\"/db/schemas\", {\r\n            headers: { \"Conn-Id\": data.connId },\r\n          });\r\n          const sortedSchemas = (res.data.data || []).sort((a, b) => a.localeCompare(b));\r\n          const schemaNodes = sortedSchemas.map((s) => ({\r\n            label: s,\r\n            type: \"schema\",\r\n            connId: data.connId,\r\n            connName: data.connName,\r\n            leaf: false,\r\n          }));\r\n          resolve(schemaNodes);\r\n        } catch (e) {\r\n          resolve([]);\r\n        }\r\n      } else if (data.type === \"schema\") {\r\n        resolve([\r\n          { label: \"数据表\", type: \"folder_table\", connId: data.connId, connName: data.connName, schema: data.label, leaf: false },\r\n          { label: \"视图\", type: \"folder_view\", connId: data.connId, connName: data.connName, schema: data.label, leaf: false },\r\n          { label: \"触发器\", type: \"folder_trigger\", connId: data.connId, connName: data.connName, schema: data.label, leaf: false },\r\n        ]);\r\n      } else if (data.type === \"folder_table\") {\r\n        try {\r\n          const res = await request.get(\"/db/tables\", {\r\n            params: { schema: data.schema },\r\n            headers: { \"Conn-Id\": data.connId },\r\n          });\r\n          const tables = res.data.data.map((t) => ({\r\n            label: t.TABLE_NAME,\r\n            comment: t.COMMENTS,\r\n            type: \"table\",\r\n            connId: data.connId,\r\n            connName: data.connName,\r\n            schema: data.schema,\r\n            leaf: true,\r\n          }));\r\n          resolve(tables);\r\n        } catch (e) {\r\n          resolve([]);\r\n        }\r\n      } else if (data.type === \"folder_view\") {\r\n        try {\r\n          const res = await request.get(\"/db/views\", {\r\n            params: { schema: data.schema },\r\n            headers: { \"Conn-Id\": data.connId },\r\n          });\r\n          const views = res.data.data.map((v) => ({\r\n            label: v.VIEW_NAME,\r\n            type: \"view\",\r\n            connId: data.connId,\r\n            connName: data.connName,\r\n            schema: data.schema,\r\n            leaf: true,\r\n          }));\r\n          resolve(views);\r\n        } catch (e) {\r\n          resolve([]);\r\n        }\r\n      } else if (data.type === \"folder_trigger\") {\r\n        try {\r\n          const res = await request.get(\"/db/triggers\", {\r\n            params: { schema: data.schema },\r\n            headers: { \"Conn-Id\": data.connId },\r\n          });\r\n          const triggers = res.data.data.map((t) => ({\r\n            label: t.TRIGGER_NAME,\r\n            status: t.STATUS,\r\n            type: \"trigger\",\r\n            connId: data.connId,\r\n            connName: data.connName,\r\n            schema: data.schema,\r\n            leaf: true,\r\n          }));\r\n          resolve(triggers);\r\n        } catch (e) {\r\n          resolve([]);\r\n        }\r\n      } else {\r\n        resolve([]);\r\n      }\r\n    },\r\n\r\n    openAddDialog() {\r\n      this.isEditMode = false;\r\n      this.dialogTitle = \"新建连接\";\r\n      this.connForm = {\r\n        name: \"本地达梦\",\r\n        host: \"localhost\",\r\n        port: \"5236\",\r\n        user: \"SYSDBA\",\r\n        password: \"\",\r\n      };\r\n      this.dialogVisible = true;\r\n    },\r\n    openEditDialog(data) {\r\n      this.isEditMode = true;\r\n      this.currentEditNode = data;\r\n      this.dialogTitle = \"编辑连接\";\r\n      this.connForm = JSON.parse(JSON.stringify(data.config || {}));\r\n      if (!data.config) this.connForm.name = data.label;\r\n      this.dialogVisible = true;\r\n    },\r\n    validateConnName(name) {\r\n      if (!name || !name.trim()) return false;\r\n      const exist = this.treeData.find((node) => {\r\n        if (this.isEditMode && this.currentEditNode) {\r\n          return node.label === name && node.id !== this.currentEditNode.id;\r\n        }\r\n        return node.label === name;\r\n      });\r\n      return !exist;\r\n    },\r\n    async testConnection() {\r\n      this.testing = true;\r\n      try {\r\n        const payload = { ...this.connForm };\r\n        if (this.isEditMode && this.currentEditNode) {\r\n          payload.id = this.currentEditNode.id;\r\n        }\r\n        const res = await request.post(\"/connection/connect\", payload);\r\n        if (res.data.code === 200) {\r\n          this.$message.success(\"连接成功！\");\r\n        } else {\r\n          this.$message.error(\"连接失败: \" + res.data.msg);\r\n        }\r\n      } catch (e) {\r\n        this.$message.error(\"连接异常，请检查网络\");\r\n      } finally {\r\n        this.testing = false;\r\n      }\r\n    },\r\n    async submitConnection() {\r\n      if (!this.connForm.name) {\r\n        this.$message.warning(\"请输入连接名称\");\r\n        return;\r\n      }\r\n      if (!this.validateConnName(this.connForm.name)) {\r\n        this.$message.warning(\"连接名称已存在，请使用其他名称\");\r\n        return;\r\n      }\r\n      this.connecting = true;\r\n      try {\r\n        if (this.isEditMode) {\r\n          const connId = this.currentEditNode.id;\r\n          const res = await request.post(\"/connection/connect\", {\r\n            id: connId,\r\n            ...this.connForm,\r\n          });\r\n          if (res.data.code !== 200) {\r\n            this.$message.error(res.data.msg || \"连接失败，无法保存配置\");\r\n            return;\r\n          }\r\n          const targetNode = this.treeData.find(n => n.id === connId);\r\n          if (targetNode) {\r\n            this.$set(targetNode, \"label\", this.connForm.name);\r\n            this.$set(targetNode, \"config\", JSON.parse(JSON.stringify(this.connForm)));\r\n            this.$set(targetNode, \"connStatus\", \"success\");\r\n            this.$set(targetNode, \"errorMsg\", \"\");\r\n            this.$set(targetNode, \"loading\", false);\r\n          }\r\n          this.saveConnections();\r\n          this.$message.success(\"更新成功\");\r\n          this.dialogVisible = false;\r\n        } else {\r\n          const res = await request.post(\"/connection/connect\", this.connForm);\r\n          if (res.data.code === 200) {\r\n            const newId = res.data.data;\r\n            const exists = this.treeData.some(n => n.id === newId);\r\n            if (!exists) {\r\n              this.treeData.push({\r\n                id: newId,\r\n                label: this.connForm.name,\r\n                type: \"root\",\r\n                leaf: false,\r\n                config: JSON.parse(JSON.stringify(this.connForm)),\r\n                connStatus: \"success\",\r\n                errorMsg: \"\",\r\n                loading: false,\r\n              });\r\n              this.saveConnections();\r\n            }\r\n            this.dialogVisible = false;\r\n            this.$message.success(\"创建成功\");\r\n          } else {\r\n            this.$message.error(\"创建失败: \" + res.data.msg);\r\n          }\r\n        }\r\n      } catch (e) {\r\n        this.$message.error(\"连接失败，无法保存配置\");\r\n      } finally {\r\n        this.connecting = false;\r\n      }\r\n    },\r\n    handleDeleteConn(node, data) {\r\n      this.$confirm(`确定删除连接【${data.label}】吗?`, \"提示\", {\r\n        type: \"warning\",\r\n      })\r\n        .then(async () => {\r\n          try {\r\n            await request.delete(\"/connection/delete\", {\r\n              headers: { \"Conn-Id\": data.id },\r\n            });\r\n          } catch (e) { }\r\n          this.treeData = this.treeData.filter(d => d.id !== data.id);\r\n          this.tabs = this.tabs.filter((t) => t.connId !== data.id);\r\n          if (this.tabs.length === 0) this.activeTab = \"\";\r\n          else if (!this.tabs.find((t) => t.key === this.activeTab))\r\n            this.activeTab = this.tabs[this.tabs.length - 1].key;\r\n          this.saveConnections();\r\n          this.$message.success(\"删除成功\");\r\n        })\r\n        .catch(() => { });\r\n    },\r\n\r\n    // 【修复】点击节点逻辑\r\n    handleNodeClick(data) {\r\n      if (data.type === \"table\" || data.type === \"view\") {\r\n        // 修复关键：将 data.label 作为 tableName 传入\r\n        this.handleOpenTable({\r\n          connId: data.connId,\r\n          connName: data.connName,\r\n          schema: data.schema,\r\n          tableName: data.label, // 必须传递 tableName！\r\n          type: data.type\r\n        });\r\n      } else if (data.type === \"role\") {\r\n        // 【新增】打开角色详情 Tab\r\n        this.openTab(data.connId, data.connName, null, data.label, 'role');\r\n      } else if (data.type === \"trigger\") {\r\n        this.$message.info(\r\n          `触发器 [${data.label}]：${data.status === \"ENABLED\" ? \"已启用\" : \"已禁用\"\r\n          } (暂不支持编辑)`\r\n        );\r\n      }\r\n    },\r\n\r\n    handleOpenTable(payload) {\r\n      let cName = \"Unknown\";\r\n      const sibling = this.tabs.find((t) => t.connId === payload.connId);\r\n      if (sibling) cName = sibling.connName;\r\n      else {\r\n        const rootNode = this.treeData.find((t) => t.id === payload.connId);\r\n        if (rootNode) cName = rootNode.label;\r\n      }\r\n      const type = payload.type || 'table';\r\n\r\n      this.openTab(\r\n        payload.connId,\r\n        cName,\r\n        payload.schema,\r\n        payload.tableName, // 确保这里有值\r\n        type,\r\n        payload.filter,\r\n        payload.initViewMode\r\n      );\r\n    },\r\n\r\n    openTab(\r\n      connId,\r\n      connName,\r\n      schema,\r\n      tableName,\r\n      tableType = 'table',\r\n      filter = null,\r\n      targetViewMode = null\r\n    ) {\r\n      // 区分角色和表/视图的 Key\r\n      const isRole = tableType === 'role';\r\n      const tabKey = isRole ? `ROLE-${connId}-${tableName}` : `${connId}-${schema}-${tableName}`;\r\n      const title = isRole ? `角色: ${tableName}` : `${connName} - ${tableName}`;\r\n\r\n      const existIndex = this.tabs.findIndex((t) => t.key === tabKey);\r\n      const finalViewMode = targetViewMode || this.globalViewMode || \"data\";\r\n\r\n      if (existIndex > -1) {\r\n        this.activeTab = tabKey;\r\n        if (!isRole) {\r\n          const tab = this.tabs[existIndex];\r\n          const needUpdate =\r\n            filter || (targetViewMode && tab.initViewMode !== targetViewMode);\r\n          if (needUpdate) {\r\n            this.$set(this.tabs, existIndex, { ...tab, filter: filter || tab.filter, initViewMode: finalViewMode });\r\n          }\r\n        }\r\n      } else {\r\n        this.tabs.push({\r\n          key: tabKey,\r\n          title: title,\r\n          connId: connId,\r\n          connName: connName,\r\n          schema: schema,\r\n          tableName: tableName,\r\n          tableType: tableType,\r\n          type: tableType, // 供 v-if 使用\r\n          roleName: isRole ? tableName : null,\r\n          filter: filter,\r\n          initViewMode: finalViewMode,\r\n        });\r\n        this.activeTab = tabKey;\r\n      }\r\n    },\r\n\r\n    removeTab(targetName) {\r\n      const tabs = this.tabs;\r\n      let activeName = this.activeTab;\r\n      if (activeName === targetName) {\r\n        tabs.forEach((tab, index) => {\r\n          if (tab.key === targetName) {\r\n            const nextTab = tabs[index + 1] || tabs[index - 1];\r\n            if (nextTab) activeName = nextTab.key;\r\n          }\r\n        });\r\n      }\r\n      this.activeTab = activeName;\r\n      this.tabs = tabs.filter((tab) => tab.key !== targetName);\r\n    },\r\n\r\n    openCreateDialog(node, data) {\r\n      this.currentNodeData = data;\r\n      this.currentNodeRef = node;\r\n      if (data.type === \"folder_table\") {\r\n        this.tableForm = {\r\n          tableName: \"\",\r\n          columns: [\r\n            {\r\n              name: \"ID\",\r\n              type: \"INTEGER\",\r\n              length: \"\",\r\n              pk: true,\r\n              notNull: true,\r\n            },\r\n          ],\r\n        };\r\n        this.createTableVisible = true;\r\n      } else if (data.type === \"folder_view\") {\r\n        this.viewForm = { name: \"\", sql: \"\" };\r\n        this.createViewVisible = true;\r\n      } else if (data.type === \"folder_trigger\") {\r\n        this.triggerSql = `CREATE OR REPLACE TRIGGER \"${data.schema}\".\"TRG_NAME\"\\nBEFORE INSERT ON \"${data.schema}\".\"TABLE_NAME\"\\nFOR EACH ROW\\nBEGIN\\n\\t-- logic here\\nEND;`;\r\n        this.createTriggerVisible = true;\r\n      } else if (data.type === \"folder_role\") {\r\n        // 【新增】新建角色\r\n        this.roleForm.name = \"\";\r\n        this.createRoleVisible = true;\r\n      }\r\n    },\r\n\r\n    handleDeleteObject(node, data) {\r\n      const typeName = { table: '表', view: '视图', trigger: '触发器', role: '角色' }[data.type];\r\n      this.$confirm(\r\n        `确定删除${typeName}【${data.label}】吗？此操作不可恢复！`,\r\n        \"危险操作\",\r\n        {\r\n          type: \"warning\",\r\n          confirmButtonClass: \"el-button--danger\",\r\n        }\r\n      )\r\n        .then(async () => {\r\n          try {\r\n            const url = data.type === 'role' ? \"/db/role/delete\" : \"/db/execute\";\r\n            const params = data.type === 'role' ? { roleName: data.label } : { sql: `DROP ${data.type.toUpperCase()} \"${data.schema}\".\"${data.label}\"` };\r\n            const method = data.type === 'role' ? 'delete' : 'post';\r\n\r\n            // 使用 request 实例，动态配置 method\r\n            const reqConfig = {\r\n              method,\r\n              url,\r\n              headers: { \"Conn-Id\": data.connId },\r\n              [method === 'delete' ? 'params' : 'data']: params\r\n            };\r\n\r\n            const res = await request(reqConfig);\r\n\r\n            if (res.data.code === 200) {\r\n              this.$message.success(\"删除成功\");\r\n              const tabKey = data.type === 'role'\r\n                ? `ROLE-${data.connId}-${data.label}`\r\n                : `${data.connId}-${data.schema}-${data.label}`;\r\n              this.removeTab(tabKey);\r\n              if (node.parent) {\r\n                node.parent.loaded = false;\r\n                node.parent.expand();\r\n              }\r\n            } else {\r\n              this.$message.error(res.data.msg);\r\n            }\r\n          } catch (e) {\r\n            this.$message.error(\"操作失败\");\r\n          }\r\n        })\r\n        .catch(() => { });\r\n    },\r\n\r\n    addTableColumn() {\r\n      this.tableForm.columns.push({\r\n        name: \"\",\r\n        type: \"VARCHAR\",\r\n        length: \"50\",\r\n        pk: false,\r\n        notNull: false,\r\n      });\r\n    },\r\n    removeTableColumn(index) {\r\n      this.tableForm.columns.splice(index, 1);\r\n    },\r\n    async executeDDL(sql) {\r\n      this.submitting = true;\r\n      try {\r\n        const res = await request.post(\r\n          \"/db/execute\",\r\n          { sql: sql },\r\n          { headers: { \"Conn-Id\": this.currentNodeData.connId } }\r\n        );\r\n        if (res.data.code === 200) {\r\n          this.$message.success(\"创建成功\");\r\n          this.currentNodeRef.loaded = false;\r\n          this.currentNodeRef.expand();\r\n          return true;\r\n        } else {\r\n          this.$message.error(res.data.msg);\r\n          return false;\r\n        }\r\n      } catch (e) {\r\n        this.$message.error(\"请求失败\");\r\n        return false;\r\n      } finally {\r\n        this.submitting = false;\r\n      }\r\n    },\r\n    // 【核心修改】支持复合主键的建表 SQL 生成\r\n    async submitCreateTable() {\r\n      if (!this.tableForm.tableName) return this.$message.warning(\"请输入表名\");\r\n      const schema = this.currentNodeData.schema;\r\n      const fullTableName = `\"${schema}\".\"${this.tableForm.tableName}\"`;\r\n\r\n      // 1. 生成普通列定义\r\n      let colsSql = this.tableForm.columns\r\n        .map((col) => {\r\n          let line = `\"${col.name}\" ${col.type}`;\r\n          if (\r\n            col.length &&\r\n            ![\"INTEGER\", \"DATE\", \"TIMESTAMP\", \"TEXT\"].includes(col.type)\r\n          )\r\n            line += `(${col.length})`;\r\n          if (col.notNull) line += \" NOT NULL\";\r\n          // 注意：不再这里加 PRIMARY KEY\r\n          return line;\r\n        })\r\n        .join(\",\\n  \");\r\n\r\n      // 2. 收集所有勾选了 PK 的列\r\n      const pkCols = this.tableForm.columns\r\n        .filter(c => c.pk)\r\n        .map(c => `\"${c.name}\"`);\r\n\r\n      // 3. 如果有主键，添加表级约束\r\n      let pkSql = \"\";\r\n      if (pkCols.length > 0) {\r\n        // CONSTRAINT PK_表名 PRIMARY KEY (列1, 列2)\r\n        pkSql = `,\\n  CONSTRAINT \"PK_${this.tableForm.tableName}\" PRIMARY KEY (${pkCols.join(', ')})`;\r\n      }\r\n\r\n      const sql = `CREATE TABLE ${fullTableName} (\\n  ${colsSql}${pkSql}\\n);`;\r\n\r\n      if (await this.executeDDL(sql)) this.createTableVisible = false;\r\n    },\r\n    async submitCreateView() {\r\n      if (!this.viewForm.name || !this.viewForm.sql)\r\n        return this.$message.warning(\"请填写完整\");\r\n      const schema = this.currentNodeData.schema;\r\n      const sql = `CREATE OR REPLACE VIEW \"${schema}\".\"${this.viewForm.name}\" AS\\n${this.viewForm.sql}`;\r\n      if (await this.executeDDL(sql)) this.createViewVisible = false;\r\n    },\r\n    async submitCreateTrigger() {\r\n      if (!this.triggerSql) return;\r\n      if (await this.executeDDL(this.triggerSql))\r\n        this.createTriggerVisible = false;\r\n    },\r\n\r\n    // 【新增】提交创建角色\r\n    async submitCreateRole() {\r\n      if (!this.roleForm.name) return this.$message.warning(\"请输入角色名称\");\r\n      try {\r\n        const res = await request.post(\"/db/role/create\", { roleName: this.roleForm.name }, { headers: { \"Conn-Id\": this.currentNodeData.connId } });\r\n        if (res.data.code === 200) {\r\n          this.$message.success(\"创建成功\");\r\n          this.createRoleVisible = false;\r\n          this.currentNodeRef.loaded = false;\r\n          this.currentNodeRef.expand();\r\n        } else {\r\n          this.$message.error(res.data.msg);\r\n        }\r\n      } catch (e) { this.$message.error(\"创建失败\"); }\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.layout-container {\r\n  height: 100vh;\r\n  background: #f0f2f5;\r\n}\r\n\r\n.sidebar {\r\n  background: #fff;\r\n  border-right: 1px solid #e6e6e6;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.sidebar-header-wrapper {\r\n  border-bottom: 1px solid #eee;\r\n  padding-bottom: 10px;\r\n}\r\n\r\n.sidebar-header-top {\r\n  padding: 0 15px;\r\n  height: 40px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.sidebar-search {\r\n  padding: 0 10px;\r\n}\r\n\r\n.app-title {\r\n  font-weight: bold;\r\n  color: #333;\r\n  font-size: 14px;\r\n}\r\n\r\n.header-actions {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.db-tree {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  padding-top: 5px;\r\n}\r\n\r\n.custom-tree-node {\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  font-size: 13px;\r\n  padding-right: 8px;\r\n}\r\n\r\n.custom-tree-node i {\r\n  margin-right: 5px;\r\n  color: #409eff;\r\n}\r\n\r\n.node-actions {\r\n  display: none;\r\n}\r\n\r\n.custom-tree-node:hover .node-actions {\r\n  display: inline-block;\r\n}\r\n\r\n.main-content {\r\n  padding: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: #fff;\r\n  overflow: hidden;\r\n}\r\n\r\n.empty-state {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: #ccc;\r\n}\r\n\r\n.empty-state i {\r\n  font-size: 60px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n::v-deep .el-tabs {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n::v-deep .el-tabs__header {\r\n  margin: 0;\r\n  background: #f5f7fa;\r\n  border-bottom: 1px solid #e4e7ed;\r\n}\r\n\r\n::v-deep .el-tabs__content {\r\n  flex: 1;\r\n  padding: 0;\r\n  overflow: hidden;\r\n  height: 100%;\r\n}\r\n\r\n::v-deep .el-tab-pane {\r\n  height: 100%;\r\n}\r\n</style>"]}]}